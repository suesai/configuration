# A TOML linter such as https://taplo.tamasfe.dev/ can use this schema to validate your config.
# If you encounter any issues, please make an issue at https://github.com/yazi-rs/schemas.
"$schema" = "https://yazi-rs.github.io/schemas/yazi.json"

[mgr]
linemode           = "size"
mouse_events       = [ "click", "scroll" ]
ratio              = [ 1, 3, 4 ]
scrolloff          = 5
show_hidden        = false
show_symlink       = true
sort_by            = "alphabetical"
sort_dir_first     = true
sort_reverse       = false
sort_sensitive     = false
sort_translit      = false
title_format       = "Yazi: {cwd}"

[opener]
extract            = [
	{ run  = 'ouch d -y "$@"', for = "unix",      desc = "Extract here with ouch" },
	{ run  = 'ouch d -y %*',   for = "windows",   desc = "Extract here with ouch" },
]

[plugin]
prepend_fetchers   = [
	{ id   = "git",            url = "*",         run = "git" },
	{ id   = "git",            url = "*/",        run = "git" }
]
prepend_preloaders = [
	# Replace magick, image, video with mediainfo
	{ mime = "{audio,video,image}/*",             run = "mediainfo" },
	{ mime = "application/subrip",                run = "mediainfo" },
	# Adobe Illustrator, Adobe Photoshop is image/adobe.photoshop, already handled above
	{ mime = "application/postscript",            run = "mediainfo" },
]
prepend_previewers = [
	# Archive previewer
	{ mime = "application/{*zip,bzip2,x-bzip2}",  run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/java-archive",          run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/vnd.rar",               run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/{7z*,x-7z-compressed}", run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/{rar,x-rar}",           run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/{tar,x-tar}",           run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/{xz,x-xz}",             run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	{ mime = "application/{zstd,x-zstd}",         run = "ouch --archive-icon='ğŸ—„ï¸ ' --show-file-icons" },
	# Replace magick, image, video with mediainfo
	{ mime = "{audio,video,image}/*",             run = "mediainfo" },
	{ mime = "application/subrip",                run = "mediainfo" },
	# Adobe Illustrator, Adobe Photoshop is image/adobe.photoshop, already handled above
	{ mime = "application/postscript",            run = "mediainfo" },
]

[tasks]
image_alloc        = 1073741824
